# Alpha

## 1.0
+ 添加。

### 1.1
+ **规则**
    + **属性**
        + **`MOVE`**
            + 添加。
+ **控制**
    + 现在可以撤回操作或重新开始了。

#### 1.11
+ **控制**
    + 现在可以切换世界了。

### 1.2
+ **规则**
    + **属性**
        + **`WIN`**
            + 添加。
+ **技术性**
    + 添加了使用Pyinstaller制作的Windows应用程序。

### 1.3
+ **规则**
    + `BABA IS KEKE`等类似的变换规则可以被解析并运作了。
+ **世界**
    + _现在可以正常进出。_

#### 1.31
+ **世界**
    + 现在有固定颜色了。
+ **命令行**
    + _用途增多。_

### 1.4
+ _与制作世界相关的更改。_

#### 1.41
+ _与关卡（也有可能是世界）相关的更改。_

#### 1.42
+ **技术性**
    + 优化了代码。

### 1.5
+ **规则**
    + **属性**
        + **`FLOAT`，`SINK`，和`DEFEAT`**
            + 添加。

### 1.6
+ **规则**
    + **属性**
        + **`OPEN`和`SHUT`**
            + 添加。

### 1.7
+ **规则**
    + **属性**
        + **`HOT`和`MELT`**
            + 添加。
+ **外观**
    + 纹理现在会被染成默认颜色了。

### 1.8
+ **规则**
    + **属性**
        + **`SHIFT`，`TELE`，和`WORD`**
            + 添加。
+ **外观**
    + 新增了游戏图标。

#### 1.81
+ **技术性**
    + _与程序参数相关的更改。_

### 1.9
+ **外观**
    + 纹理现在能“扭动”了。
+ **技术性**
    + 优化了代码。

#### 1.91
+ **漏洞**
    + 修复了纹理名称和纹理颜色使用同一标识符，导致`Lava`使用了`Water`的颜色，进而导致二者无外观区别的漏洞。
+ **技术性**
    + _用于物体坐标的两个数值可以被同时读取/写入了。_

## 2.0
+ **规则**
    + **物体`Cursor`与其所对应的名词，以及属性`SELECT`**
        + 添加。
        + 用于选择关卡。
+ **关卡**
    + 新增（首次区分于Patrick's Parabox的**世界**独立存在）。

### 2.1
+ **规则**
    + _关卡与世界现在可以相互转换了。_
+ **漏洞**
    + 修复了许多漏洞。

#### 2.11
+ **漏洞**
    + 修复了有关撤回和重开的漏洞。

#### 2.12
+ 在代码中加入了许多物体。

#### 2.13
+ **控制**
    + 现在可以按`Esc`键回到上层关卡了。

### 2.2
+ **技术性**
    + 改进了有关世界移动的代码。
+ _有关选项的部分改动。_

#### 2.21
+ **规则**
    + **物体`Patrick`与其所对应的名词**
        + 添加。
        + _纹理是从`Square`和`Text_Banana`改的。_
+ **漏洞**
    + 修复了一些漏洞。

#### 2.22
+ 没啥变化。

### 2.3
+ **规则**
    + **否定词`NOT`**
        + 添加。
        + 可以否定属性词。
    + 现在外部世界的规则会被应用到内部世界里了。

#### 2.31
+ **规则**
    + **属性**
        + **`YOU`**
            + 支持操作多个角色。

### 2.4
+ **规则**
    + **否定词`NOT`**
        + 现在支持对物体取反。
+ **世界**
    + 现在可以转为其他物体。

#### 2.41
+ **漏洞**
    + 修复了与世界与移动有关的漏洞。

#### 2.42
+ **世界**
    + 可以被`YOU`属性相对正常作用了。

#### 2.43
+ **规则**
    + **属性**
        + 现在同时拥有`YOU`和`WIN`两个属性的物体也能判定胜利了。

### 2.5
+ **关卡**
    + 关卡物体现在可以附带图标和颜色了。
+ **编辑器**
    + 优化了部分控制按键。

#### 2.51
+ **世界**
    + 世界物体现在可以与`WORD`正常作用了。
+ 再次加入了许多物体。

#### 2.52
+ **技术性**
    + 再次改进了有关世界移动的代码。

### 2.6
+ **编辑器**
    + 大幅度优化了控制。

#### 2.61
+ **编辑器**
    + 添加了10个调色板栏位。

### 2.7
+ **命令行**
    + 新增了翻译系统。

### 2.8
+ **规则**
    + **并列词`AND`**
        + 添加。

#### 2.81
+ **漏洞**
    + 修复了一些漏洞。

#### 2.82
+ **技术性**
    + JSON文件里的颜色信息现在使用整数而非字符串来存储。

### 2.9
+ **规则**
    + **属性**
        + **`END`**
            + 添加。
+ **控制**
    + 现在按住`F1`可以显示每秒帧数了。
+ **外观**
    + 窗口可以自由调整大小了。
    + 加入了简单的音效系统。

#### 2.91
+ **规则**
    + **_名词`ALL`_**
        + _添加。_

## 3.0
+ **规则**
    + **名词`GAME`**
        + 添加。
        + 指代游戏进程或游戏窗口，会被部分属性影响。
            + 效果包括移动画面，退出或启动新的游戏进程等。
            + 不建议作为解谜的重要部分。

##### 3.001
+ **外观**
    + 游戏现在支持播放MIDI音乐了。
+ **漏洞**
    + 修复了`GAME IS SINK`或`GAME IS FLOAT`产生的游戏画面滚动速度在规则消失后仍被保留导致屏幕根本停不下来的漏洞。

##### 3.002
+ **技术性**
    + 又一次改进了有关世界移动的代码，函数的运行速度变得更快了。

##### 3.003
+ **漏洞**
    + 修复了编辑器内粘贴的所有物体都使用了与被复制的物体相等的UUID导致的漏洞。

#### 3.01
+ **规则**
    + `WORD`属性现在能对`TEXT`生效了。
        + 目前这会导致所有文本都会被同时解析为名词`TEXT`。

### 3.1
+ **规则**
    + **修饰词**
        + 添加。
        + **中缀修饰词`ON`**
            + 添加。

#### 3.11
+ **规则**
    + **中缀修饰词`FEELING`**
        + 添加。
        + 由于目前的系统无法判断“无限循环”，`FEELING`被设计为一轮只判断一次。
            + ~~说白了就是我菜。~~

##### 3.111
+ **漏洞**
    + 修复了对`GAME`修饰`FEELING`导致的漏洞。

##### 3.112
+ **漏洞**
    + 修复了对一个物体同时修饰`SHUT`和`OPEN`导致的漏洞。

#### 3.12
+ **世界**
    + 现在世界的两个边长可以不相等了。

##### 3.121
+ **漏洞**
    + 修复了某个漏洞。

#### 3.13
+ **世界**
    + 现在可以拥有全局属性了。

##### 3.131
+ 没啥变化。

##### 3.132
+ **外观**
    + _游戏现在默认开启MIDI音乐了，且可以在选项内更改。_

#### 3.14
+ **规则**
    + **前缀修饰词**
        + _添加。_
        + **`META`**
            + 添加。
            + 用于限制所指代的对象为仅非常规物体。

##### 3.141
+ **规则**
    + 现在经`META`修饰后的对象也支持变换了。

##### 3.142
+ **漏洞**
    + 修复了有关中缀修饰词的漏洞。

#### 3.15
+ **规则**
    + **中缀修饰词`NEAR`**
        + 添加。

##### 3.151
+ **漏洞**
    + 再次修复了对物体同时修饰`SHUT`和`OPEN`导致的漏洞。

#### 3.16
+ **控制**
    + 按住的按键不再被多次识别。

##### 3.161
+ **游戏**
    + 现在正式兼容Linux。
        + 之前部分版本的源代码或许也能在Linux上运作，但从这个版本开始BabaMakeParabox在添加代码时会考虑平台间的兼容性。

##### 3.162
+ **漏洞**
    + 修复了有关文本的漏洞。

### 3.2
+ **规则**
    + **操作词`MAKE`，`HAS`，和`WRITE`**
        + 添加。

##### 3.201
+ **控制**
    + `F1`改为切换帧率显示。
+ **技术性**
    + 大量引入`typing`模块的`TypedDict`以进行更好的类型标注。
        + ~~但还是有许多地方没能省去`# type: ignore`。~~
    + **`spaces.Orient`**
        + 添加。
        + 描述方向的枚举。
    + **`objects.nouns_objs_dicts`**
        + **`swapped`**
            + 添加。
        + **`get_obj`**
            + 重命名为`get`。
        + **`get_exist_obj`**
            + 重命名为`__getitem__`。

##### 3.202
+ **技术性**
    + 选项现在会记录版本号。
    + 删除了选项中的`input_cooldown`。

#### 3.21
+ **技术性**
    + 关卡现在会记录版本号。
    + **`objects.Object`**
        + 重命名为`objects.BmpObj`。
        + **`json_name`**
            + 添加。
            + 代替`typename`用于JSON格式内的物体名称，且使用类似 Baba Is You 的下划线命名法（`text_baba`）。

##### 3.211
+ **技术性**
    + **`objects.BmpObj`**
        + 重命名为`objects.BmpObject`。
        + 移除了所有子类的`__eq__`魔术方法。
    + **`worlds.world`，`levels.level`，`levelpacks.levelpack`**+
        + 重命名，类名的首字母现在为大写。

### 3.3
+ **规则**
    + **元文本**
        + 添加。
        + 外观为带有半透明数字的文本，数字大小即为元文本等级（额外的`text_`数量）。
+ **技术性**
    + **`objects.BmpObject`**
        + **`json_name`**
            + 移除。
        + 用作文本的类（`BABA`）现在以带`Text`前缀的大驼峰命名法来命名（`TextBaba`）。
    + **`objects.Noun.obj_type`**
        + 添加。
    + **`objects.WorldPointer.inf_tier`**
        + 重命名为`infinite_tier`。
    + **`objects.Metatext`**
        + 添加。
        + 元文本的基类。

#### 3.31
+ **规则**
    + **元文本修饰词`TEXT_`**
        + 添加。
            + 注：`objects.TextText_`并不是`objects.Prefix`的子类。

##### 3.311
+ **编辑器**
    + 右上角的类型显示现在支持特殊物体的独特显示。
+ **漏洞**
    + 修复了不同的世界可以有多个对应相同世界的世界物体的漏洞。
        + 将方法`repeated_world_to_clone`从`worlds.World`移动到`levels.Level`。
    + 修复了窗口渲染的部分位置只参考了其中一个边长数据导致渲染不正确的的漏洞。

#### 3.32
+ **规则**
    + **属性`TEXT+`和`TEXT-`**
        + 添加。
        + 改变物体为其名词，或改变名词为其物体。支持元文本。
+ **技术性**
    + **`objects.BmpObject.display_name`**
        + 添加。
        + 用于显示物体名称。
            + 普通物体使用大驼峰，名词使用全大写下划线。

##### 3.321
+ **外观**
    + 部分位置的纹理不再使用默认颜色。
    + 编辑器内的元文本也会显示等级了。

### 3.4
+ **规则**
    + 现在任何物体都能存储“该物体所指向的世界和/或关卡的标识符”了。
        + 这使得普通物体与引用物体相互转换时会保留更多的信息，且有可能在反向转换后仍然生效。
+ **技术性**
    + **`objects.WorldPointerExtraJson`**
        + 添加。
    + **`basics.compare_versions`**
        + 添加。
        + 比较版本名的先后顺序。

##### 3.401
+ **规则**
    + **属性`END`和`DONE`**
        + 添加。
        + 用于关卡包~~和游戏~~的结局。
            + ~~`GAME IS DONE`会在选项里写入`"game_is_done": true`，程序读取到该选项后会崩溃。~~
+ **技术性**
    + **`games.GameIsDoneError`**
        + 添加。

#### 3.41
+ **游戏**
    + 历史记录现在以关卡为单位。
+ **技术性**
    + **`levels.Level.is_map`**
        + 添加。
        + 决定该关卡是否被用作大地图。

### 3.5
Baba Make Parabox v3.5 是 2024.08.24 更新的一个版本，添加了用于控制能否在世界之间转移物体的两个属性。

+ **规则**
    + **物体`Line`和`Dot`，与其所对应的名词**
        + 添加。
    + **属性`ENTER`和`LEAVE`**
        + 添加。
        + 该属性被否定的物体无法自由进出世界。

### 3.6
Baba Make Parabox v3.6 是 2024.09.11 更新的一个版本，将处理游戏回合计算过程的任务从之前版本的关卡内部放到了关卡包的内部。

+ **技术性**
    + 许多原本属于`levels.Level`的方法被搬到了`levelpacks.Levelpack`内部（例如`turn`和`transform`），以省略在两者之间传递信息的步骤。
    + **`levels.Level.same_float_prop`**
        + 由于不涉及关卡信息，将该方法挪至`objects`。
+ **漏洞**
    + 该版本有大量严重漏洞。

#### 3.61
Baba Make Parabox v3.61 是 2024.09.12 更新的一个版本，添加了对多个世界物体的支持，且提升了游戏的运行速度。

+ **世界**
    + 多个指向相同世界的世界物体可以同时存在了。
        + 从这些世界离开的物体会被复制。
            + 该版本的复制功能有漏洞，被复制的物体会使用相同的UUID，进而导致其他漏洞。
        + 与外层世界有关的逻辑也被一并更改。
+ **技术性**
    + **`levels.Level.get_move_list`**
        + 移除了 _不知何时加入的_ 参数`cause`。
    + **`worlds.World`**
        + 加入了使用位置索引获取物体的功能，从而大幅度提升了游戏运行速度。
            + ~~代价就是更容易出现漏洞了。~~

##### 3.611
Baba Make Parabox v3.611 是 2024.09.13 更新的一个版本，修复了一些漏洞。

+ **漏洞**
    + 修复了列表`__all__`里没有`"levelpacks"`的漏洞。
    + 修复了`WORLD IS YOU` / `LEVEL IS YOU`会使玩家可以控制范围内的所有物体的非预期行为漏洞。

#### 3.62
Baba Make Parabox v3.62 是 2024.10.21 更新的一个版本，修复了一个漏洞。

+ **漏洞**
    + 修复了有关中缀修饰词的漏洞。
+ **技术性**
    + 移除了在3.611版本用于调试的`print`函数。

##### 3.621
Baba Make Parabox v3.621 是 2024.10.22 更新的一个版本，添加了两个与概率有关的前缀和一个中缀，且加强了命令行的错误处理能力。

+ **规则**
    + **前缀修饰词`SELDOM`和`OFTEN`，中缀修饰词`WITHOUT`**
        + 添加。
    + 更改了中缀修饰词的判定方式。
+ **命令行**
    + 多数非预期输入现在不会使程序崩溃，而是会要求玩家重新输入了。

##### 3.622
Baba Make Parabox v3.622 是 2024.10.23 更新的一个版本，修复了一个严重漏洞。

+ **漏洞**
    + 修复了部分代码在使用`for`循环遍历`dict`类型时没有使用`dict.items`方法而导致的严重漏洞。
+ **技术性**
    + 移除了代码仓库里的纹理等资源。
    + **`rules.PropertyDict`**
        + 添加。
        + 用于储存属性。
    + ~~在`__init__.py`里加入了一行极其明显的注释。放心，没那么严重。~~

##### 3.623
Baba Make Parabox v3.623 是 2024.11.26 更新的一个版本，重命名了许多带有游戏名的文件。

### 3.7
Baba Make Parabox v3.7 是 2024.11.27 更新的一个版本，添加了对多重属性的支持，加入了新的否定词`NEG`，并优化了许多以前版本产生的大量冗余且杂乱的代码。

+ **规则**
    + **属性**
        + 现在可以（内在的，而不是空间上的）堆叠，被堆叠的属性可能会增强或被多次应用。
    + **杂项**
        + **`NEG`**
            + 添加。
            + 类似于`NOT`，用于更为宽松的否定用途。
                + ~~这词在代码里总共也就存在了一天的时间，甚至连设定都是残废状态……~~
+ **技术性**
    + **`rules.analysis_rule`，`get_rules_from_pos_and_orient`**
        + 彻底重写。
            + ~~这下不仅很快就能理解，还容易扩展多了。~~
    + **`objects.Properties`**
        + 添加。
        + 用于系统化管理物体、世界、关卡和“游戏”的一般属性，同时附带管理其余运算符文本所添加的特殊属性的功能。
        + 代替`rules.PropertyDict`。
            + ~~同时也代替了多个毫不相干的类型中几乎所有用于存储属性词的硬编码变量。~~
    + **`objects.Game`**
        + 现在作为“用于指出需要创建新窗口的临时物体”的类被使用，而不再仅是`objects.TextGame`的指代对象。
    + **`basics.get_json_dump_kwds`**
        + 添加。
            + ~~但被我忘了……~~
        + 用于获取JSON文件的存储格式参数（是否格式化）。
    + **`objects.BmpObject.set_sprite`**
        + 现在可以接受并忽略多余的关键词参数，以简化纹理显示流程。
    + **`objects.get_noun_from_obj`**
        + 重命名为`objects.get_noun_from_type`。
    + **`objects.Transform`和`objects.Sprite`**
        + 移除。
        + ~~旧版本的遗留。~~
    + 将许多零散的相似代码提取到了新的函数中，或者用条件分支取代。
        + 变化幅度较大的部分包括`levels.Level.update_rules`，`games.play`等。
    + 将用于处理特殊转换的代码从`levelpacks.Levelpack.transform`移至`levelpacks.Levelpack.special_transform`。
    + 异常`games.GameIsDoneError`不再使用翻译文本。
    + 移除了函数`games.play`内的许多冗余变量。

##### 3.701
Baba Make Parabox v3.701 是 2024.11.28 更新的一个版本，回退了 3.7 内对`NOT`的更改，移除了`NEG`，改善了命令行界面的显示与操作，并整理了以前版本产生的杂乱代码。

+ **规则**
    + **杂项**
        + **`NEG`**
            + 移除。~~对此我只能说，删的真™好。~~
+ **命令行**
    + 现在部分情况下（选择关卡包文件等）会自动显示文件夹内的指定类型文件。
    + 输入文件名时又需要包含后缀名了。
    + 更新了许多文本。
    + **分隔线**
        + 添加。
        + 用于标注一段新的文本的开始。
+ **漏洞**
    + 部分还原了`3.7`中对`NOT`的更改。
+ **技术性**
    + **`languages.lang_print`和`languages.lang_input`**
        + 添加。
        + 用于输出格式化翻译文本和使用格式化翻译文本请求输入的自定义函数。
    + **`games`**
        + 重命名为`plays`。
    + **`subgames`**
        + 重命名为`subs`。
    + **`rules.RuleInfo.noun_negated_list`和`rules.RuleInfo.prop_negated_list`**
        + 重新用于存储否定次数而非否定词列表，且因此重命名`list`到`tier`。
    + 游戏图标的文件名不再包含多余的后缀。
    + 启动器的许多逻辑被拆分到了新的函数内部。

##### 3.702
Baba Make Parabox v3.702 是 2024.11.29 更新的一个版本，整理了以前版本产生的杂乱代码，修复了一些漏洞。

+ **命令行**
    + **分隔线**
        + 现在可附带标题。
    + 更新了部分文本。
    + 将翻译字段内的`main`重命名为`launch`。
+ **漏洞**
    + 修复了没有被显式赋予`ENTER`/`LEAVE`属性的物体无法进入/退出世界的漏洞。
    + 修复了尽管子游戏所用的程序名已经被重命名，但代码内的常量并未同步改动，导致将其他物体转换为`GAME`无法产生新窗口的漏洞。
+ **技术性**
    + **`objects.Properties`**
        + **`enabled`，`disabled`**
            + 添加。
        + `calc_count`现在会单独处理简单的情况，在简单情况下可能会使性能提升。
    + **`languages.lang_format`**
        + 添加。
        + 单独用于格式化翻译文本的自定义函数。
    + **`basics.get_json_dump_kwds`**
        + 在添加后首次被使用。
    + **`levels.Level.find_rules`**
        + 移除。
    + **`objects.temp_calc`**
        + 移除。
        + ~~曾用于测试否定词新逻辑，且未被及时删除的临时函数。~~
    + 移除了部分无用函数。
    + 再次拆分了启动器的逻辑。

### 3.8
Baba Make Parabox v3.8 是 2024.12.02 更新的一个版本，为了新的关卡选择机制而加入了用于限制光标物体的路径物体和收藏品系统，并修复了一些漏洞。

+ **规则**
    + **物体`Path`与其所对应的名词**
        + 添加。
        + 直接用于`SELECT`物体的移动判定。
        + 可锁定，也可设置解锁条件。
        + 暂时使用`Line`的纹理。
        + 暂未考虑使用`PATH`文本组成规则的特殊情况，这可能会导致漏洞，相关特性将会在近几个版本中实现。
    + **收藏品**
        + 添加。
        + 会在特殊情况下添加到关卡包中。
        + 可用于解锁`Path`。
    + **物体`Orb`与其所对应的名词，以及属性`BONUS`**
        + 添加。
        + 用于收藏品。
            + 默认规则没有使用`BONUS`，物体`Orb`也没有默认属性。
    + **属性`HIDE`**
        + 添加。
        + 暂无作用。
            + 之后将用于隐藏物体。
+ **编辑器**
    + 快捷键`T`改为用于编辑关卡或世界的标识符，这意味着现在可以在编辑器内可以同时更改世界的无限等级了。
+ **漏洞**
    + 部分修复了读取关卡包时错误的物体类型名称会导致游戏尝试持续生成元文本以找到匹配的名称，导致函数调用栈溢出，程序崩溃的漏洞。
        + 现在游戏会优先检测名称开头是否为`text_text_`。~~这并没有完全修复该漏洞，只是使其变得更罕见了而已。~~
    + 修复了在编辑器内按`Q`或`E`切换物体类型时可能切换到本被设定为编辑器不可用的物体的漏洞。
+ **技术性**
    + **`refs`**
        + 添加。
        + 用于定义需要在代码各处使用的引用变量的类，以避免循环依赖。
            + 同时大幅度更改了关卡包的JSON存储格式。
    + **`collects`**
        + 添加。
        + 收藏品相关代码。
    + **`objects.BmpObject`**
        + 添加了对缺省的类属性进行初始化的过程。
        + **`objects.Noun`**
            + 除了`obj_type`，其他类属性现在都可以默认省略了。
        + **`objects.BmpObject.sprite_color`**
            + 取代`displays.sprite_colors`。
    + **`levels.Level.show_world`**
        + 新增参数`debug`，目前用于在编辑器视角显示更多细节。
    + **`levelpacks.Levelpack.prepare`**
        + 从函数`levelpacks.Levelpack.turn`中拆出。
    + **`levelpacks.Levelpack.get_exist_level`**
        + 重命名为`get_exact_level`。

#### 3.81
Baba Make Parabox v3.81 是 2024.12.03 更新的一个版本，更改了许多控制键位，并修复了一些漏洞。

+ **游戏**
    + 历史记录现在保存整个关卡包。
    + 将赢得关卡等特殊事件后的 1 秒冷却时间改为按移动键或等待键继续。
        + 此时仍然可以进行撤回等操作。
    + 支持在游戏中途进行临时存档与读档。
        + 临时存档会保存在游戏缓存中，而不会写入到文件；关闭游戏时所有的临时存档都会丢失。
    + 更新键位：
        + **`W` / `S` / `A` / `D`**：移动
        + **`SPACE`**：等待
        + **`ESC`**：回到上层关卡
        + **`Z`**：撤销
        + **`CTRL` + `R`**：重新开始关卡包
        + **`O`**：载入临时存档
            + **`CTRL` + `...`**：可指定此临时存档的名字
        + **`P`**：保存临时存档
            + **`CTRL` + `...`**：可指定此临时存档的名字
        + **`TAB`**：显示各种信息
        + **`-` / `=`**：循环选择世界
+ **编辑器**
    + 更新键位：
        + **`W` / `S` / `A` / `D`**：移动光标
            + **`ALT` + `...`**：选择物体朝向
        + **`Q` / `E`**：循环选择物体类型
        + **`0` ~ `9`**：从调色板选择物体类型
            + **`SHIFT` + `...`**：设置调色板的物体类型
        + **`ENTER`**：放置物体
            + **`SHIFT` + `...`**：物体存在时仍放置
            + **`CTRL` + `...`**：设置部分物体的额外信息
        + **`BACKSPACE`**：删除物体
        + **`N`**：新建世界
            + **`ALT` + `...`**：新建关卡
        + **`M`**：删除世界
            + **`ALT` + `...`**：删除关卡
        + **`R`**：设置全局规则
            + **`SHIFT` + `...`**：删除全局规则
        + **`T`**：设置所处世界的标识符
            + **`ALT` + `...`**：设置所处关卡的标识符
        + **`CTRL` + (`X` / `C` / `V`)**：剪切 / 复制 / 粘贴 光标上的物体
        + **`-` / `=`**：循环选择世界
            + **`ALT` + `...`**：循环选择关卡
+ **控制**
    + 添加了`ALT`键的检测。
        + 现在，`SHIFT`用于反转功能的效果；`CTRL`用于指定该功能需要额外的信息；`ALT`用于使用该键位的第二功能，或需要再三确认的功能。
    + _按住的按键又能被多次识别了。_
+ **技术性**
    + **`levelpacks.ReTurnValue`**
        + 重命名为`ReturnInfo`。
    + **`levelpacks.Levelpack.main_level`**
        + 重命名为`main_level_id`。
    + **`objects.Properties.__bool__`**
        + 添加。
        + 存有属性即返回`True`。
+ **漏洞**
    + 修复了无法转换物体的严重漏洞。
    + 修复了`Path`有时无法第一时间更新的漏洞。
    + 修复了许多有关“撤回，重新开始”这两个操作的漏洞。

#### 3.82
Baba Make Parabox v3.82 是 2024.12.04 更新的一个版本，为程序加入了鼠标操作的支持，并修复了一些漏洞。

+ **游戏**
    + 现在支持鼠标操作：
        + **鼠标左键**：进入世界
        + **鼠标右键**：回到上层世界
        + **鼠标滚轮**：循环选择世界
+ **编辑器**
    + 由于程序现在支持鼠标操作，大量键盘操作转移到鼠标上：
        + **鼠标左键**：放置物体
            + **`SHIFT` + `...`**：即使该位置存在物体也额外放置
            + **`CTRL` + `...`**：设置部分物体的额外信息
            + **`ALT` + `...`**：进入世界
                + **`SHIFT` + `...`**：进入关卡
        + **鼠标右键**：删除物体
            + **`ALT` + `...`**：回到上层世界
                + **`SHIFT` + `...`**：回到上层关卡
        + **鼠标滚轮**：循环选择物体类型
            + **`SHIFT` + 鼠标滚轮向上滚动**：选择该物体的名词
            + **`SHIFT` + 鼠标滚轮向下滚动**：选择该名词指向的物体
            + **`ALT` + `...`**：循环选择世界
                + **`SHIFT` + `...`**：循环选择关卡
        + **(`W` / `S` / `A` / `D`) / 方向键**：选择物体朝向
+ **外观**
    + **名词`PATH`**
        + 现在使用单独的纹理。
+ **技术性**
    + **`objects.World`，`objects.Clone`，和`objects.Level`**
        + 不再直接出现在除`objects.py`以外的源代码内。
            + 不再用重复的代码对`objects.World`和`objects.Clone`两种情况分别进行处理，而改为使用for循环遍历列表`objects.world_pointers`内的元素进行处理；
            + 需要使用`objects.World`来代替`worlds.World`的情况改为使用`objects.default_world_pointer`；
            + `objects.Level`的改变同上，后续更新可能会加入多种不同类型的关卡物体，该版本对此功能进行了预留。
    + **`displays.simple_object_to_surface`和`displays.simple_type_to_surface`**
        + 添加。
        + 用于获取指定物体或物体类型的纹理。
            + 简化了散落在各处的重复渲染代码片段。
    + **`objects.WorldPointer.light_overlay`和`objects.WorldPointer.dark_overlay`**
        + 添加。
        + 指定显示世界时覆盖层的颜色。
    + **`levels.Level.recursion_rules`**
        + 不再改变世界内的本地规则，而改为返回该世界将会从外部世界得到的规则。
+ **漏洞**
    + 修复了与带无限等级的世界有关的严重漏洞。
        + ~~之前的版本测试时都没试过这些游戏内容会不会出漏洞……~~
    + 基本修复了无法转换特殊物体的漏洞。

##### 3.83
Baba Make Parabox v3.83 是 2024.12.05 更新的一个版本，为物体添加了平滑移动的动画，并改善了程序的性能。

+ **外观**
    + 更改性能相关选项时现在有 5 个等级而非 4 个。
    + 由于该选项过于影响性能，嵌套世界的最大显示深度现在可以单独设置。
    + 现在物体移动时有过渡动画了。
        + 更改选项时对电脑性能的评分 ≥3 即可启用该功能。
            + **技术性**：决定该功能是否启用的选项名为`smooth_animation_multiplier`。
+ **漏洞**
    + 修复了游戏中显示长宽不一致的世界会留下额外黑边的漏洞。
+ **技术性**
    + **`spaces.Coord`**
        + 改为`namedtuple`。
        + 同时加入了`spaces.CoordTuple`用于其他外部用途。
    + **`objects.OldObjectState`**
        + 添加。
        + 记录上一步时物体的状态。
        + 目前并非所有实例属性都被记录或使用。
    + **`objects.BmpObject`**
        + 添加了属性`old_state`，用于记录上文所说的状态。
        + 现在使用`pos: spaces.Coord`而非`x: int`和`y: int`记录坐标。
            + 代替了`pos: property`。
        + `sprite_varients`的类型标注改为`tuple[int, ...]`。
    + **`worlds.World`**
        + 现在使用`size: spaces.Coord`而非`width: int`和`height: int`记录坐标。
            + 代替了`size: property`。
    + **`refs.LevelID`和`refs.WorldID`**
        + 新增了暂未使用的用于互相转换的实例方法。

### 3.9
Baba Make Parabox v3.9 是 2024.12.06 更新的一个版本，加入了指向特殊世界物体的名词。

+ **规则**
    + **名词`INFINITY`（∞），`EPSILON`（ε）和`PARABOX`（∅）**
        + 添加。
        + 代表指向悖论世界的物体。
            + 作为属性时，`INFINITY`会使世界物体指向多一层无穷大悖论的世界，`EPSILON`类似；`PARABOX`同时进行前两者的操作。
                + 对其他物体无效果。
        + ~~`PARABOX`的外观（空集符号）是我在熟悉的数学符号里挑的。~~
    + **名词`GROUP`**
        + 添加。
        + 暂未完善机制，会有漏洞。
    + 首次判定无法移动的物体会继续尝试移动，直到可以移动或尝试次数到达某一上限。
        + ~~大概可以算是~~ 修复了同时往相同方向运动的两个相邻物体中，位于后方的物体可能被位于前方的带有“可阻挡物体通过属性”的物体“阻挡”，从而无法在这一轮移动的漏洞。
    + `ALL IS DONE`现在可以触发结局。
+ **外观**
    + 对于更大的显示面积，渲染速度更快了。
    + 最晚在这个版本，编辑器的光标改为白色。
    + 为了规避物体移动过渡动画没有考虑到纹理实际大小的因素，`CURSOR`物体的大小现在与其他物体一致。
        + 这不包括没有过渡动画的编辑器光标。
+ **命令行**
    + 现在答案为布尔值的问题可以识别`True`，`False`，`1`，`0`，`是`，`否`这六个回答了。
        + `True`和`False`包括常见大小写形式和英文首字母缩写。
+ **技术性**
    + **`objects.BmpObject`**
        + 重命名为`objects.Object`。
            + ~~我自己都没想到这名字竟然又要被用一遍。~~
        + **`LevelPointer`和`WorldPointer`**
            + 重命名，`Pointer`改为`Object`。
        + **`Noun`**
            + 拆分为`Noun`和派生类`GenericNoun`，后者用于几乎所有可以使用`issubclass`或`isinstance`识别的物体类型。
            + **`SpecialNoun`**
                + 添加，是`Noun`的另一个派生类。
                + 用于不能使用`issubclass`或`isinstance`识别的物体类型。
                    + 直接派生类有`FixedNoun`，`RangedNoun`，和`TextEmpty`。
                        + 间接派生类包括`TextAll`，`TextGroup`，`TextInfinity`等。
                    + 使用类方法`isreferenceof`代替上述内置函数。
            + **`TextLevel`，`TextWorld`，和`TextClone`**
                + 现在继承自新的类型（`TextLevelObject`和`TextWorldObject`）。
    + **`levels.Level.get_move_list`**
        + 合并了部分重复代码。

##### 3.901
Baba Make Parabox v3.901 是 2024.12.07 更新的一个版本，修复了一个严重漏洞。

+ **漏洞**
    + 修复了普通物体转换时总是会变成名词本身而非该名词对应的物体的严重漏洞。

##### 3.902
Baba Make Parabox v3.902 是 2024.12.07 更新的一个版本，加入了属性`Hide`的功能。

+ **规则**
    + **属性`HIDE`**
        + 现在可以按预期工作了。
+ **外观**
    + 帧率现在不受`Game`拥有的属性产生的效果的影响。

#### 3.91
Baba Make Parabox v3.91 是 2024.12.07 更新的一个版本，将游戏概念“世界”（`world`）重命名为“空间”（`space`），并因此在代码内更改了许多变量名。

+ **世界**（World）
    + 重命名为**空间**（Space）。
        + 原有的功能（应该）不受影响。
+ **外观**
    + 删除了`world`，`clone`，和`text_world`的纹理。
    + 添加了`text_space`的纹理。
    + 更换了`baba-is-you-original-sprites.zip`，现在其包含`level`的纹理。
+ **技术性**
    + 该版本可读取 3.8 及后续版本的关卡包文件。
        + **然而很可能需要 删除 / 移动 / 重命名 存储选项的文件（`options.json`），因为之前版本中选项的默认值包括`text_world`。**
            + 游戏检测到该文件缺失后，将会在内部重新生成可以正常读取的选项，然后正常运行。此时就可以重新更改选项，游戏关闭时会将选项保存至`options.json`。
    + **`worlds`**
        + 重命名为`spaces`。
    + **`spaces`** ~~现在你叫spaces了，那我叫什么？~~
        + 重命名为`positions`。~~O_o.bmp~~

#### 3.92
Baba Make Parabox v3.92 是 2024.12.08 更新的一个版本，使新生成的空间或关卡物体默认指向该物体所在的空间或关卡，加入了对调色盘的支持，重绘了游戏的Logo，并修复了一些漏洞。

+ **规则**
    + **`HAS`，`MAKE`，和`TEXT-`**
        + 通过以上方法生成的并不含有额外信息的空间物体将不再生成新的空间，而会直接指向该物体所在的空间。
            + 原物体拥有空间信息时仍会指向原本所指的空间。
            + `IS`暂不遵循该设定。
            + 关卡同理。
+ **命令行**
    + 文件后缀名（如`.json`）现在是可选输入项，而不必在输入时去除。
    + 现在游戏会等到在主菜单内选择非预期选项时自行退出，从而可以在编辑完关卡包之后直接游玩。
        + 程序异常之后仍然会停止运行。
+ **外观**
    + **调色盘**
        + 添加。
        + 游戏现在会通过调色盘，而不是代码内的数值，来获取画面所使用的颜色列表。
    + 略微缩小了**编辑器**的界面。
+ **技术性**
    + 调整了部分设置的默认值（如编辑器创建新空间时的默认大小）。
    + **`levels.Level`**
        + 将`update_rules`移动至`levelpacks.Levelpack`。
            + 同时移除了因为这个改动而变得无用的`levels.Level.rule_list`。
        + 现在支持读取并写入`author`字段，用于标注作者。
            + 编辑器内暂未加入对应操作。
    + **`rules.RuleInfo`**
        + 更改了存储结构，从而修复了许多与解析规则有关的漏洞。
    + **`rules.analysis_rule`**
        + 拆分为执行解析规则任务的函数`rules.get_info_from_rule`和定义规则语法的字典`rules.how_to_match_rule`。
    + **`rules.to_atom_rules`，`spaces.match_pos`**
        + 移除。
    + **`spaces.Space.get_rules_from_pos_and_direct`**
        + 重命名为`get_rule_from_pos_and_direct`。
        + 现在引用上文提到的`rules.how_to_match_rule`，而不是该函数内部的相似内容。
    + **`objects.Object.sprite_color`**
        + 现在存储颜色在调色盘上对应的坐标。
        
#### 3.921
Baba Make Parabox v3.921 是 2024.12.08 更新的一个版本，更改了物体与空间之间的作用，并修复了一些漏洞。

+ **空间**
    + 现在物体可以到达不存在的空间并“消失”了。
        + 该事件可能因以下情况发生：
            + 物体试图无限退出——或者无限进入——到一个不存在的空间；
            + 物体试图通过某个空间物体进入其对应的空间，但该空间物体所指代的空间本身不存在。
    + 现在当一步移动可能会以一种特定的空间切换方式同时到达多个空间，且某个分支情况失败时，其他移动分支不会被中断了。
        + 仅当所有分支情况都失败时，才会阻止本次移动。
        + 例如，同时进入两个重叠的空间物体时，即使无法进入其中一个空间，也能正常进入另外一个空间。
+ **漏洞**
    + 修复了在游戏内切换调色盘实际上并没有写入选项的漏洞。
        
#### 3.922
Baba Make Parabox v3.922 是 2024.12.09 更新的一个版本，临时禁用了一些暂未实现的功能，并修复了一些漏洞。
+ **规则**
    + **名词`EMPTY`和`GROUP`**
        + 不再包含在可使用的物体类型中。
            + 后续更新可能会重新加入。
+ **漏洞**
    + 修复了`space`与`text_space`等空间有关物体，在保存关卡包文件时仍以`world`和`text_world`等旧称被保存的漏洞。
        + 现在游戏只会在读取关卡包文件时兼容旧称了，保存时统一按照新的名称写入。
    + 修复了`ALL`和`NOT ALL`所指的物体与 Baba Is You 中`ALL`所指物体范围的逻辑冲突的漏洞。